{"version":3,"sources":["msm-main.js"],"names":[],"mappings":"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","file":"msm-main.js","sourcesContent":["jQuery(function ($) {\n\n    \"use strict\";\n\n\n/**\n * Init Plugins\n */\n{\n\n    const $body = $('body');\n    const $menuSubmenu = $('.msm-menu-item .msm-submenu, .msm-link .msm-submenu');\n    let menuItems = [];\n    let clickParents = [];\n\n\n    setTimeout(function () {\n\n        $menuSubmenu.each((i, el) => {\n\n            let $el = $(el);\n            let $parent = $el.parent();\n\n            let $clickParent = $el.parents('.msm-click');\n\n\n            if ($body.outerWidth() < msm_mega_submenu.data.mobile_menu_trigger_click_bellow && !$clickParent.length) {\n                $clickParent = $el.parents('.msm-hover');\n                if ($clickParent.length) {\n                    $clickParent.removeClass('msm-hover').addClass('msm-click');\n                }\n            }\n\n\n\n\n            if ($clickParent.length) {\n                clickParents.push($clickParent);\n\n                $clickParent.on('click', function (e) {\n                    e.preventDefault();\n                    let isOpen = false;\n                    if ($clickParent.hasClass('open')) {\n                        isOpen = true;\n                    }\n                    // close all\n                    $.each(clickParents, function (i, clickParent) {\n                        clickParent.removeClass('open');\n                    });\n                    if (!isOpen) {\n                        $clickParent.addClass('open');\n                    }\n                });\n                $el.on('click', function (e) {\n                    e.stopPropagation();\n                });\n            }\n\n            menuItems.push({\n                $el: $el,\n                $parent: $parent\n            });\n        });\n\n    setPosition();\n\n    }, 500);\n\n\n    $(window).resize(setPosition);\n\n\n\n    function setPosition() {\n\n        let bodyWidth = $body.outerWidth();\n        let bodyPaddingLeft = parseInt($body.css('paddingLeft'));\n        let bodyPaddingRight = parseInt($body.css('paddingRight'));\n\n\n        menuItems.forEach((item) => {\n\n            const $el = item.$el;\n            const $parent = item.$parent;\n\n            let depth = $el.data('depth') || 0;\n            let width = $el.data('width') || bodyWidth;\n            let position = $el.data('position') || 'center';\n            let margin = $el.data('margin') || 0;\n            let bgColor = $el.data('bgColor') || null;\n            let parentOffset = $parent.offset().left;\n\n\n            //if (depth === 0 || msm_mega_submenu.data.submenu_items_position_relative) {\n            //    $parent.css('position', 'relative');\n            //}\n\n            if (typeof width === 'string' && width.indexOf('%') !== -1) {\n                width = bodyWidth / 100 * parseFloat(width);\n            }\n\n            let style = {\n                width: width\n            };\n\n            /**\n             * Left offset from the body\n             * Set to null because it is not used in all cases\n             * @type {null}\n             */\n            let offsetLeft = null;\n\n\n            if (bgColor) {\n                style.backgroundColor = bgColor;\n            }\n\n\n            /**\n             * If in submenus\n             */\n            if (depth) {\n\n                // Calculate offset from the top level parent item\n                let $topLevelParent = $parent.parents('.msm-top-level-item');\n                let topLevelParentOffsetLeft = $topLevelParent.offset().left;\n\n                let $branchParent = $parent.parents('.sub-menu');\n                let branchParentTop = $branchParent.offset().top;\n                let branchParentWidth = $branchParent.width();\n                let branchParentMarginLeft = parseInt($branchParent.css('margin-left'));\n                let branchParentMarginRight = parseInt($branchParent.css('margin-left'));\n\n                let parentOffsetTop = $parent.offset().top;\n\n                // only allow left and right when in submenus\n                if (position === 'right') {\n\n                    // if going beyond left edge\n                    if (width > topLevelParentOffsetLeft) {\n                        style.width = topLevelParentOffsetLeft + branchParentMarginLeft;\n\n                    }\n                    style.left = 'auto';\n                    style.right = branchParentWidth;\n\n                } else { // all others are set to left\n\n                    // if going beyond right edge\n                    if (width > (bodyWidth - topLevelParentOffsetLeft - branchParentWidth)) {\n                        style.width = bodyWidth - topLevelParentOffsetLeft - branchParentWidth - branchParentMarginLeft;\n                    }\n\n                    style.left = branchParentWidth;\n                }\n                // for both cases\n                style.top = branchParentTop - parentOffsetTop;\n\n\n\n            /**\n             * Full width\n             */\n            } else if (width > bodyWidth || position === 'center_full') {\n\n                style.width = bodyWidth - bodyPaddingLeft - bodyPaddingRight;\n                offsetLeft = bodyPaddingLeft;\n\n                if (margin) {\n                    style.width = bodyWidth - 2 * margin;\n                    offsetLeft += margin;\n                }\n\n            /**\n             * Center\n             */\n            } else if (position === 'center') {\n\n                offsetLeft = (bodyWidth - width) / 2;\n\n            /**\n             * Left\n             */\n            } else if (position === 'left') {\n\n                style.left = 0;\n\n                // if going beyond right edge\n                if ((parentOffset + width) > bodyWidth) {\n                    style.width = bodyWidth - parentOffset;\n                }\n\n                if (margin) {\n                    style.width -= margin;\n                }\n\n            /**\n             * Left Edge\n             * Starts from left edge of the screen\n             */\n            } else if (position === 'left_edge') {\n\n\n                offsetLeft = 0;\n                if (margin) {\n                    offsetLeft = margin;\n                }\n\n            /**\n             * Right\n             */\n            } else if (position === 'right') {\n                style.right = 0;\n                style.left = 'auto';\n\n                // if going beyond left edge\n                if (width > parentOffset) {\n                    style.width = parentOffset + $parent.width();\n                }\n\n                if (margin) {\n                    style.width -= margin;\n                }\n\n            /**\n             * Right Edge\n             * Ends on the right edge of the screen\n             */\n            } else if (position === 'right_edge') {\n                offsetLeft = bodyWidth - parentOffset - $parent.width();\n\n                if (margin) {\n                    offsetLeft -= margin;\n                }\n\n                // if going beyond left edge\n                if (width > parentOffset) {\n                    style.width = parentOffset + $parent.width();\n                }\n            }\n\n            $el.css(style);\n\n            if  ('null' != offsetLeft) {\n                $el.offset({left: offsetLeft});\n            }\n\n        });\n    }\n\n\n\n}\n//===============================================\n/**\n * Mobile Menu\n */\n(function () {\n\n    const $mobileMenu = $('#msm-mobile-menu');\n    $mobileMenu.prependTo('body');\n\n    // Header Toggle\n    $mobileMenu.find('.respmenu-header .respmenu-open').on('click', function() {\n        $mobileMenu.find('.respmenu').slideToggle(200);\n    });\n\n    // Submenu Toggle\n    $mobileMenu.find('.respmenu-submenu-toggle').on('click', function() {\n        $(this).siblings('.sub-menu').slideToggle(200);\n    });\n\n})();\n\n});"]}